const videoSrc=[{left:"/assets/videos/触控板三指上下.mp4",right:"/assets/videos/触控板三指窗口大小.mp4"},{left:"/assets/videos/触控板四指左右.mp4",right:"/assets/videos/触控板四指切换桌面.mp4"}];let workerCurrentIndex=1;const translations={en:[{aiTitle:"AI Search",aiDesc:"Find files with just one word"},{aiTitle:"AI Assistant",aiDesc:"Simply swipe to enjoy AI"},{aiTitle:"AI Writing",aiDesc:"Thinking for You, Effortlessly Creating"}],zh:[{aiTitle:"AI搜索",aiDesc:"一句话随心找文件"},{aiTitle:"AI写作",aiDesc:"想你所想，轻松创作"},{aiTitle:"AI随航",aiDesc:"轻轻一划，即享AI"}]},workerVideos={zh:["/assets/videos/ai-search.mp4","/assets/videos/ai-write.mp4","/assets/videos/ai-assistant.mp4"],en:["/assets/videos/ai-search-en.mp4","/assets/videos/ai-write-en.mp4","/assets/videos/ai-assistant-en.mp4"]};document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelector("#ai-left"),t=document.querySelector("#ai-right"),r=document.querySelector(".ai .content .left .replay"),n=document.querySelector(".ai .content .right .replay");"en"===window.AppConfig.lang?(e.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/voice-en.mp4"),t.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/qa-en.mp4")):(e.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/voice.mp4"),t.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/qa.mp4")),r.addEventListener("click",(()=>{e.currentTime=0,e.play()})),n.addEventListener("click",(()=>{t.currentTime=0,t.play()})),e.addEventListener("ended",(()=>{r.style.visibility="visible"})),e.addEventListener("play",(()=>{r.style.visibility="hidden"})),t.addEventListener("ended",(()=>{n.style.visibility="visible"})),t.addEventListener("play",(()=>{n.style.visibility="hidden"}));const o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=()=>{e.target.play(),e.target.removeEventListener("canplay",t)};e.target.addEventListener("canplay",t),e.target.load()}else e.target.pause()}))}),{threshold:.8});o.observe(document.querySelector("#ai-left")),o.observe(document.querySelector("#ai-right"));const i=document.querySelector("#aiAnswerVideo"),s=document.querySelector(".ai .answer .replay");"en"===window.AppConfig.lang?i.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/aibar-en.mp4"):i.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/aibar.mp4"),s.addEventListener("click",(()=>{i.currentTime=0,i.play()})),new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.play():e.target.pause()}))}),{threshold:1}).observe(document.querySelector("#aiAnswerVideo"))}(),function(){const e=document.querySelector("#cross"),t=document.querySelector(".cross .replay"),r="en"===window.AppConfig.lang?"/assets/videos/cooperate-en.mp4":"/assets/videos/cooperate.mp4";e.setAttribute("data-src",window.AppConfig.baseUrl+r),t.addEventListener("click",(()=>{e.currentTime=0,e.play()})),e.addEventListener("ended",(()=>{t.classList.toggle("visible")})),e.addEventListener("play",(()=>{t.classList.remove("visible")}));const n=document.querySelector(".support-dialog-wrap");n.addEventListener("wheel",(e=>{e.preventDefault()}),{passive:!1}),document.querySelector(".cross .support-btn").addEventListener("click",(()=>{n.style.display="block",e.pause()})),document.querySelector(".support-dialog .close-btn").addEventListener("click",(t=>{t.stopPropagation(),n.style.display="none",e.play()})),new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.contains("fullscreen-cover2")&&function(e,t,r,n=!1){window.scrollTo({top:document.querySelector(t).offsetTop,behavior:"smooth"}),setTimeout((()=>{const o=document.body.clientWidth<1700,i=document.body.clientWidth>=2200,s=document.querySelector(t).getBoundingClientRect(),c=document.querySelector(r).getBoundingClientRect();e.style.top=c.top-s.top+(n?o?82:i?119:90:5)+"px",e.style.left=c.left-s.left+(n?o?193:i?279:211:0)+"px",e.style.right=s.right-c.right+(n?o?211:i?301:230:0)+"px",e.style.borderRadius="7px",setTimeout((()=>{e.style.opacity=0,setTimeout((()=>{e.style.display="none",e.style.top="0",e.style.left="0",e.style.right="0",e.style.transition="none",document.querySelector("#cross").play()}),500)}),500)}),500)}(e.target,".cross",".cross #cross",!0)}))}),{threshold:.4}).observe(document.querySelector(".fullscreen-cover2")),new IntersectionObserver((e=>{e.forEach((e=>{if("cross"===e.target.id){if("block"===document.querySelector(".fullscreen-cover2").style.display)return;e.isIntersecting?e.target.play():e.target.pause()}}))}),{threshold:.8}).observe(document.querySelector("#cross")),new IntersectionObserver((e=>{e.forEach((e=>{if("SPAN"===e.target.tagName&&e.isIntersecting){const e=document.querySelector(".fullscreen-cover2");e.style.opacity=1,e.style.transition="all 0.5s ease-in-out",e.style.display="block",document.querySelector("#cross").currentTime=0,document.querySelector("#cross").pause()}}))}),{threshold:.5}).observe(document.querySelector(".ai .answer .right .replay span"))}(),function(){const e=document.querySelector("#desktopVideo"),t=document.querySelector(".desktop .replay");e.addEventListener("ended",(()=>{t.classList.add("visible")})),e.addEventListener("play",(()=>{t.classList.remove("visible")})),e.setAttribute("data-src",window.AppConfig.baseUrl+"/assets/videos/new-desktop.mp4"),t.addEventListener("click",(()=>{e.currentTime=0,e.play()}));new IntersectionObserver((e=>{if(e[0].isIntersecting){const e=document.querySelector(".fullscreen-cover");e.style.opacity=1,e.style.transition="all 0.5s ease-in-out",e.style.display="block";const t=document.querySelector("#desktopVideo");t.currentTime=0,t.pause()}}),{threshold:[.8]}).observe(document.querySelector(".monolith .title")),new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(window.scrollTo({top:document.querySelector(".desktop").offsetTop,behavior:"smooth"}),setTimeout((()=>{const t=document.querySelector(".desktop").getBoundingClientRect(),r=document.querySelector(".desktop video").getBoundingClientRect();e.target.style.top=r.top-t.top+5+"px",e.target.style.left=r.left-t.left+"px",e.target.style.right=t.right-r.right+"px",e.target.style.borderRadius="7px",setTimeout((()=>{e.target.style.opacity=0,setTimeout((()=>{e.target.style.display="none",e.target.style.top="0",e.target.style.left="0",e.target.style.right="0",e.target.style.transition="none",document.querySelector(".desktop video").play()}),500)}),500)}),500))}))}),{threshold:.4}).observe(document.querySelector(".fullscreen-cover")),new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){if("block"===document.querySelector(".fullscreen-cover").style.display)return;e.target.play()}else e.target.pause()}))}),{threshold:1}).observe(document.querySelector(".desktop video"))}(),function(){const e=document.querySelector("#dialog-video"),t=document.querySelector(".video-dialog");"zh"==window.AppConfig.lang?e.src=window.AppConfig.baseUrl+"/assets/videos/v25-preview.mp4":e.src=window.AppConfig.baseUrl+"/assets/videos/v25-preview-en.mp4",document.querySelector(".video-dialog img").addEventListener("click",(()=>{e.pause(),e.currentTime=0,t.style.display="none"})),document.querySelector(".banner1 .content .btn").addEventListener("click",(()=>{t.style.display="block",e.currentTime=0,e.play()}))}(),function(){document.querySelector("#app > d-header").shadowRoot.querySelector("div").style.position="unset";const e=document.querySelector(".monolith");new IntersectionObserver((t=>{t.forEach((t=>{const r=t.intersectionRect.height,n=t.boundingClientRect.height-64;if(r<=window.innerHeight-780+64)return void(e.style.borderRadius="0");const o=Math.min(680,r/n*680);e.style.borderRadius=`${o}px ${o}px 0 0`}))}),{threshold:Array.from({length:101},((e,t)=>t/100))}).observe(e)}(),function(){const e=document.querySelectorAll(".window-tube .content .right .video");e.forEach(((e,t)=>{e.setAttribute("data-src",window.AppConfig.oldBaseUrl+videoSrc[0][0===t?"left":"right"])}));const t=document.querySelector(".window-tube .content .right img"),r=document.querySelectorAll(".window-tube .content .left .tab .btn");document.querySelector(".window-tube .content .left .tab").addEventListener("click",(t=>{if(t.target.classList.contains("btn")||t.target.parentElement.classList.contains("btn")){const n=t.target.classList.contains("btn")?t.target:t.target.parentElement,o=document.querySelector(".window-tube .content .left .tab .bg"),i=Array.from(r).indexOf(n);r.forEach((e=>e.classList.remove("active"))),o.style.left=0===i?"0":"calc(50% + 1.5px)",n.classList.add("active"),e.forEach(((e,t)=>{e.src=window.AppConfig.oldBaseUrl+videoSrc[i][0===t?"left":"right"],e.load(),e.play()}))}})),e[0].addEventListener("ended",(()=>{document.querySelector(".window-tube .content .right img").style.visibility="visible"})),e[0].addEventListener("play",(()=>{document.querySelector(".window-tube .content .right img").style.visibility="hidden"})),t.addEventListener("click",(()=>{e.forEach((e=>{e.currentTime=0,e.play()}))}));const n=new IntersectionObserver((e=>{e.forEach((e=>{const t=document.querySelectorAll(".window-tube .content .right .data video");e.isIntersecting?t.forEach((e=>{const t=()=>{e.play(),e.removeEventListener("canplay",t)};e.addEventListener("canplay",t),e.load()})):t.forEach((e=>{e.currentTime=0,e.pause()}))}))}),{threshold:.5});n.observe(document.querySelector(".window-tube .content .right .data video"))}(),function(){const e=document.querySelectorAll(".worker .banner .img"),t=document.querySelector(".worker .toolbar .button.left"),r=document.querySelector(".worker .toolbar .button.right");function n(){const n=[["calc(50% - 30rem)","calc(50% + 35rem)","200%"],["calc(50% - 95rem)","calc(50% - 30rem)","calc(50% + 35rem)"],["-200%","calc(50% - 95rem)","calc(50% - 30rem)"]];e.forEach(((e,t)=>{e.style.left=n[workerCurrentIndex][t],e.classList.toggle("opacity",workerCurrentIndex!=t)})),document.getElementById("worker-ai-title").textContent=translations[window.AppConfig.lang][workerCurrentIndex].aiTitle,document.getElementById("worker-ai-desc").textContent=translations[window.AppConfig.lang][workerCurrentIndex].aiDesc,t.classList.toggle("disabled",0===workerCurrentIndex),r.classList.toggle("disabled",2===workerCurrentIndex);document.querySelectorAll(".worker .banner .img video").forEach(((e,t)=>{t===this.workerCurrentIndex?(e.currentTime=0,setTimeout((()=>e.play()),500)):(e.pause(),e.currentTime=0)}))}function o(){0!==workerCurrentIndex&&(workerCurrentIndex--,n())}function i(){2!==workerCurrentIndex&&(workerCurrentIndex++,n())}document.querySelectorAll(".worker .banner .img img").forEach((t=>{t.addEventListener("click",(()=>{const t=e[workerCurrentIndex].querySelector("video");t.currentTime=0,t.play()}))})),document.getElementById("worker-ai-title").textContent=translations[window.AppConfig.lang][workerCurrentIndex].aiTitle,document.getElementById("worker-ai-desc").textContent=translations[window.AppConfig.lang][workerCurrentIndex].aiDesc,t.addEventListener("click",o),r.addEventListener("click",i),e.forEach(((e,t)=>{e.addEventListener("click",(function(){workerCurrentIndex!==t&&(t>workerCurrentIndex?i():o())}))}));const s=document.getElementById("worker0");s.setAttribute("data-src",window.AppConfig.baseUrl+workerVideos[window.AppConfig.lang][0]),s.addEventListener("ended",(()=>{document.querySelector(".worker .banner .img.left img").style.visibility="visible"})),s.addEventListener("play",(()=>{document.querySelector(".worker .banner .img.left img").style.visibility="hidden"}));const c=document.getElementById("worker1");c.setAttribute("data-src",window.AppConfig.baseUrl+workerVideos[window.AppConfig.lang][1]),c.addEventListener("ended",(()=>{document.querySelector(".worker .banner .img:nth-child(2) img").style.visibility="visible"})),c.addEventListener("play",(()=>{document.querySelector(".worker .banner .img:nth-child(2) img").style.visibility="hidden"}));const l=document.getElementById("worker2");l.setAttribute("data-src",window.AppConfig.baseUrl+workerVideos[window.AppConfig.lang][2]),l.addEventListener("ended",(()=>{document.querySelector(".worker .banner .img.right img").style.visibility="visible"})),l.addEventListener("play",(()=>{document.querySelector(".worker .banner .img.right img").style.visibility="hidden"}));const a=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?setTimeout((()=>{e.target.play()}),500):e.target.pause()}))}),{threshold:.9});a.observe(document.querySelector("#worker0")),a.observe(document.querySelector("#worker1")),a.observe(document.querySelector("#worker2"))}()}));